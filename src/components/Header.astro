---
import MazdaLogo from "../assets/Mazda.webp";
import { Image } from "astro:assets";

interface Props {
    logo: {
        src: string;
        alt: string;
    };
    nav: {
        label: string;
        href: string;
    }[];
    phone: string;
}

const { logo, nav, phone } = Astro.props;
const logoAlt = logo?.alt ?? "Passport Mazda";
const logoSrc = MazdaLogo || logo?.src || "/Mazda.webp";
console.log("I am rendering the header");
---

<header class="header">
    <div class="header-container">
        <div class="header-left">
            <a href="/" class="logo-link">
                <Image src={MazdaLogo} alt={logoAlt} width={140} height={32} loading="eager" decoding="async" class="logo-image" />
                <div class="logo-text">{logoAlt}</div>
            </a>

            <nav class="nav-menu">
                {
                    nav.map((item) => (
                        <a href={item.href} class="nav-link">
                            {item.label}
                        </a>
                    ))
                }
            </nav>
        </div>

        <div class="header-actions">
            <div class="contact-wrapper">
                <a href={`tel:${phone}`} class="contact-button">
                    <div class="contact-icon-wrapper">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="contact-icon"
                            viewBox="0 0 20 20"
                            fill="currentColor"
                        >
                            <path
                                d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"
                            ></path>
                        </svg>
                    </div>
                    <span class="contact-text">{phone}</span>
                </a>
            </div>

            <button class="mobile-menu-button">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="menu-icon"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>
    </div>
</header>

<style>
    @import "./Header.css";
</style>
